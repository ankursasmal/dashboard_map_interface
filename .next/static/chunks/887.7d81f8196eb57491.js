"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[887],{9887:function(e,t,r){r.r(t);var a=r(7437),s=r(2265),n=r(4577),l=r(508),i=r(6799),o=r(8346),d=r(2705),c=r(6129),x=r(9354);t.default=()=>{let{selectedTimeRange:e,currentTime:t,sliderMode:r,setTimeRange:m,setCurrentTime:u,setSliderMode:g}=(0,c.Z)(),[h,b]=(0,s.useState)(!1),[f,y]=(0,s.useState)([360]),[p,N]=(0,s.useState)([336,384]),j=(0,s.useMemo)(()=>h?new Date:new Date("2024-01-01T12:00:00Z"),[h]),v=(0,s.useCallback)(()=>{try{let e;if(e=t?t instanceof Date?t:new Date(t):new Date,isNaN(e.getTime()))return Math.floor(360);let r=e.getTime()-j.getTime();return Math.max(0,Math.min(719,Math.floor(r/36e5)))}catch(e){return console.error("Error in getCurrentSliderValue:",e),Math.floor(360)}},[t,j,720]),w=(0,s.useCallback)(()=>{try{let t,r;if(!(null==e?void 0:e.start)||!(null==e?void 0:e.end)){let e=Math.floor(360);return[e-24,e+24]}if(t=e.start instanceof Date?e.start:new Date(e.start),r=e.end instanceof Date?e.end:new Date(e.end),isNaN(t.getTime())||isNaN(r.getTime())){let e=Math.floor(360);return[e-24,e+24]}let a=t.getTime()-j.getTime(),s=r.getTime()-j.getTime();return[Math.max(0,Math.floor(a/36e5)),Math.min(719,Math.floor(s/36e5))]}catch(t){console.error("Error in getRangeSliderValues:",t);let e=Math.floor(360);return[e-24,e+24]}},[e,j,720]);if((0,s.useEffect)(()=>{b(!0)},[]),(0,s.useEffect)(()=>{if(h){let e=v(),t=w();Math.abs(f[0]-e)>1&&y([e]),(Math.abs(p[0]-t[0])>1||Math.abs(p[1]-t[1])>1)&&N(t)}},[h,v,w,f,p]),isNaN(j.getTime()))return console.error("Invalid center date"),(0,a.jsx)("div",{className:"p-4 text-red-500",children:"Error: Invalid date"});let T=(0,l.Z)(j,-15),M=(0,l.Z)(j,15);if(isNaN(T.getTime())||isNaN(M.getTime()))return console.error("Invalid start or end date"),(0,a.jsx)("div",{className:"p-4 text-red-500",children:"Error: Invalid date range"});if(!h)return(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Time Control"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Loading..."})]})})});let k=e=>(0,i.Z)(T,e);return(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Time Control"}),(0,a.jsx)(d.ZP,{onClick:()=>{g("single"===r.type?{type:"range",rangeValues:[p[0],p[1]]}:{type:"single",singleValue:f[0]})},size:"small",children:"single"===r.type?"Switch to Range":"Switch to Single"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:["single"===r.type?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Current Time"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:(0,x.o0)(k(f[0]))})]}),(0,a.jsx)(n.Range,{step:1,min:0,max:719,values:f,onChange:e=>{y(e),u(k(e[0]))},renderTrack:e=>{let{props:t,children:r}=e;return(0,a.jsx)("div",{...t,className:"w-full h-2 rounded-full",style:{background:(0,n.getTrackBackground)({values:f,colors:["#ef4444","#e5e7eb"],min:0,max:719})},children:r})},renderThumb:e=>{let{props:t}=e;return(0,a.jsx)("div",{...t,style:{...t.style,height:"16px",width:"16px",borderRadius:"50%",backgroundColor:"#3b82f6",border:"2px solid white",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",cursor:"pointer",zIndex:10}})}})]}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Time Range"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[(0,x.o0)(k(p[0]))," - ",(0,x.o0)(k(p[1]))]})]}),(0,a.jsx)(n.Range,{step:1,min:0,max:719,values:p,onChange:e=>{console.log("Range values changing:",e),N(e),m({start:k(e[0]),end:k(e[1])})},renderTrack:e=>{let{props:t,children:r}=e;return(0,a.jsx)("div",{...t,className:"w-full h-2 rounded-full bg-gray-200",style:{background:(0,n.getTrackBackground)({values:p,colors:["#e5e7eb","#ef4444","#e5e7eb"],min:0,max:719})},children:r})},renderThumb:e=>{let{props:t,index:r}=e;return(0,s.createElement)("div",{...t,key:r,style:{...t.style,height:"18px",width:"18px",borderRadius:"50%",backgroundColor:0===r?"#10b981":"#ef4444",border:"2px solid white",boxShadow:"0 2px 6px rgba(0,0,0,0.4)",cursor:"grab",zIndex:1e3,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",display:"block"},onMouseDown:e=>{e.currentTarget.style.cursor="grabbing"},onMouseUp:e=>{e.currentTarget.style.cursor="grab"}})}})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,a.jsx)("span",{children:(0,o.Z)(T,"MMM dd, yyyy")}),(0,a.jsx)("span",{children:(0,o.Z)(M,"MMM dd, yyyy")})]})]})]})})}}}]);