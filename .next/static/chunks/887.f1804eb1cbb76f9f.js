"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[887],{9887:function(e,t,s){s.r(t);var r=s(7437),a=s(2265),n=s(4577),l=s(508),i=s(6799),d=s(8346),c=s(2705),o=s(6129),m=s(9354);t.default=()=>{let{selectedTimeRange:e,currentTime:t,sliderMode:s,setTimeRange:u,setCurrentTime:x,setSliderMode:g}=(0,o.Z)(),[h,f]=(0,a.useState)(!1),[y,N]=(0,a.useState)([360]),[j,b]=(0,a.useState)([336,384]),v=(0,a.useMemo)(()=>h?new Date:new Date("2024-01-01T12:00:00Z"),[h]);(0,a.useEffect)(()=>{f(!0)},[]),(0,a.useEffect)(()=>{h&&(N([p()]),b(w()))},[t,e,h]);let p=(0,a.useCallback)(()=>{try{let e;if(e=t?t instanceof Date?t:new Date(t):new Date,isNaN(e.getTime()))return Math.floor(360);let s=e.getTime()-v.getTime();return Math.max(0,Math.min(719,Math.floor(s/36e5)))}catch(e){return console.error("Error in getCurrentSliderValue:",e),Math.floor(360)}},[t,v,720]),w=(0,a.useCallback)(()=>{try{let t,s;if(!(null==e?void 0:e.start)||!(null==e?void 0:e.end)){let e=Math.floor(360);return[e-24,e+24]}if(t=e.start instanceof Date?e.start:new Date(e.start),s=e.end instanceof Date?e.end:new Date(e.end),isNaN(t.getTime())||isNaN(s.getTime())){let e=Math.floor(360);return[e-24,e+24]}let r=t.getTime()-v.getTime(),a=s.getTime()-v.getTime();return[Math.max(0,Math.floor(r/36e5)),Math.min(719,Math.floor(a/36e5))]}catch(t){console.error("Error in getRangeSliderValues:",t);let e=Math.floor(360);return[e-24,e+24]}},[e,v,720]);if(isNaN(v.getTime()))return console.error("Invalid center date"),(0,r.jsx)("div",{className:"p-4 text-red-500",children:"Error: Invalid date"});let T=(0,l.Z)(v,-15),M=(0,l.Z)(v,15);if(isNaN(T.getTime())||isNaN(M.getTime()))return console.error("Invalid start or end date"),(0,r.jsx)("div",{className:"p-4 text-red-500",children:"Error: Invalid date range"});if(!h)return(0,r.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Time Control"}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Loading..."})]})})});let C=e=>(0,i.Z)(T,e);return(0,r.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Time Control"}),(0,r.jsx)(c.ZP,{onClick:()=>{g("single"===s.type?{type:"range",rangeValues:[0,720]}:{type:"single",singleValue:360})},size:"small",children:"single"===s.type?"Switch to Range":"Switch to Single"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:["single"===s.type?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Current Time"}),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:(0,m.o0)(C(y[0]))})]}),(0,r.jsx)(n.Range,{step:1,min:0,max:719,values:y,onChange:e=>{N(e),x(C(e[0]))},renderTrack:e=>{let{props:t,children:s}=e;return(0,r.jsx)("div",{...t,className:"w-full h-2 bg-gray-200 rounded-full",children:s})},renderThumb:e=>{let{props:t}=e;return(0,r.jsx)("div",{...t,className:"w-4 h-4 bg-blue-500 rounded-full shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"})}})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Time Range"}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[(0,m.o0)(C(j[0]))," - ",(0,m.o0)(C(j[1]))]})]}),(0,r.jsx)(n.Range,{step:1,min:0,max:719,values:j,onChange:e=>{b(e),u({start:C(e[0]),end:C(e[1])})},renderTrack:e=>{let{props:t,children:s}=e;return(0,r.jsx)("div",{...t,className:"w-full h-2 bg-gray-200 rounded-full",children:s})},renderThumb:e=>{let{props:t,index:s}=e;return(0,r.jsx)("div",{...t,className:"w-4 h-4 rounded-full shadow-md focus:outline-none focus:ring-2 focus:ring-opacity-50 ".concat(0===s?"bg-green-500 focus:ring-green-500":"bg-red-500 focus:ring-red-500")})}})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,r.jsx)("span",{children:(0,d.Z)(T,"MMM dd, yyyy")}),(0,r.jsx)("span",{children:(0,d.Z)(M,"MMM dd, yyyy")})]})]})]})})}}}]);